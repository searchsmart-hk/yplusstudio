function doPost(e) {
    try {
      var blob = e.parameter.file;
      if (!blob) {
        // fallback if file isn't in e.parameter
        blob = e.files?.file;
      }
  
      // ✅ Use blob from formData
      if (e.postData && e.postData.type === 'application/octet-stream') {
        blob = Utilities.newBlob(e.postData.contents, 'image/jpeg', 'image_to_change.jpg');
      }
  
      if (!blob) {
        return ContentService.createTextOutput('ERROR: File blob is missing.');
      }
  
      // ✅ Save the file to a specific folder or root
      var folder = DriveApp.getFolderById('1H-F93aYRED5Bnd_xhI9XVVQHVe74XTRg'); // Optional: or DriveApp.getRootFolder()
      var existingFiles = folder.getFilesByName('image_to_change.jpg');
      while (existingFiles.hasNext()) {
        existingFiles.next().setTrashed(true); // Remove old one
      }
  
      var uploaded = folder.createFile(blob);
      var url = uploaded.getUrl();
  
      return ContentService.createTextOutput(url);
    } catch (err) {
      return ContentService.createTextOutput('ERROR: ' + err.message);
    }
  }
  